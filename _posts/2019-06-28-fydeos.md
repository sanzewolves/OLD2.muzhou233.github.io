---
layout: post
title: 等待了一个月之后，我终于成为了吃螃蟹的人
subtitle: FydeOS for you 内测体验记录
date: 2019-06-28
lastDate: 2019-06-28
categories: blog
tags: [LINUX,FYDEOS]
description:
timedepend: true
---

**注意：本文可能对小白不友好**

三个月之前，我偶然了解到了 FydeOS：一个由国内团队基于谷歌 ChromeOS 开发的操作系统。FydeOS 把只能安装在谷歌设备上的 ChromeOS 变成了可以安装在更多第三方设备上的操作系统，可以同时运行 linux android windows 应用(当然，体验并不是特别完美)。我手持一部 surface pro 3，通过多系统安装 FydeOS 之后发现它在我的设备上最大的问题就是 wifi 会突然无法使用。我曾想过自己修复但一直没有动手，直到 FydeOS for you 发行版的发布。FydeOS for you 是针对特定设备优化过的 FydeOS 版本，[官方介绍](https://fydeos.com/community/topic/19490)。
有幸第一批内测设备中就有 Surface Pro 3，我得知这个消息以后立马就下载体验，这里先说结论：

  虽然多多少少还有些 bug，但功能已经比普通版完善很多，没有致命性的会导致无法使用的 bug。

下面是详细的测试过程
## 下载安装
这次提供的系统镜像下载网站是奶牛快传，下载速度满分。
下载到的文件是.img.xz 压缩文件，在 windows 下用 7zip 就可以解压，解压之后的.img 文件从约 1G 变成了约 5GB，用 rufus 把镜像烧录进 U 盘就得到了启动盘，直接插到 surface 上 U 盘启动。
U 盘启动受到 U 盘速度的影响会比较慢，需要耐心等待，系统加载完毕后按照提示注册账户登录(这里使用的是 FydeOS 账户)，漫长的等待之后进入了桌面。此时的 FydeOS 已经可以存储你的修改，大部分功能也已经可以正常使用，但是由于太卡我没有进行太多的测试，很快就下载 installer 软件开始硬盘安装。
硬盘安装时遇到了第一个 bug，第一次我直接覆盖原本的 FydeOS 安装结果在 70%的地方报错停止安装了，于是我回到 windows 格式化那个分区之后回来重新安装，又一次报错，和第一次还不一样，我没有重启就再次开始安装，这次的报错和第一次一样了。这时候再去开始安装，安装器却提示 FydeOS 已安装，我 B 树立马就上来了。重启回到 windows，用 Disk Genius 查看安装 FydeOS 分区文件貌似完整，EFI 分区也有 FydeOS 的启动文件，只是多重引导工具 rEFInd 没有在，于是我从官网下载 rEFInd 手动配置到 EFI 中重启，rEFInd 启动菜单里有 FydeOS，选择启动，成功引导进入系统。至此我的安装过程结束了，这个 bug 差点导致我无法继续测试。

## wifi
在普通版上最大的问题就是 wifi，wifi 在系统资源占用比较大的时候有大几率突然断开关闭并且无法再打开，只有重启才能恢复正常。那么定制版有没有解决就是一个很重要的问题了。据 FydeOS 开发者之一 Alpha 所说，wifi 问题很复杂，他们也是想出了很多方案才找到了一个解决办法。理论上目前最差的情况是仍有可能断开但可以手动打开 wifi，但我测试的时候问题却不止如此。仅仅是普通的使用情况下 wifi 确实没有问题了，但是当我尝试魔法上网的时候，一旦连接服务器就会导致 wifi 像之前一样无法使用，连设置菜单的 wifi 栏都消失了。重启再次连接也是如此，然而为了完整体验，魔法上网是必须的(FydeOS 本身去除了谷歌服务，但是安卓子系统仍然使用谷歌服务)，我临时用另一台电脑的二级代理魔法上网完成了测试(ss 或 vmess 魔法上网都需要打开系统的 v 某 n 功能，二级代理是不需要的)。测试结束时我不死心地再次尝试 ss，居然没有重现最初的问题，但愿最开始只是偶然 bug。
另外一个 wifi 问题就涉及到 sp3 的硬件特点了，sp3 在 windows 上只能搜索到 2.4Ghz 的 wifi 网络，但是在 Linux 和 Android x86 上是可以搜索到 5Ghz 的 wifi 网络的。具体原理这里不深究，FydeOS 也是由 Linux 作为底层的，所以理应能搜索到 5Ghz 网络，Alpha 也说测试机可以，可是我不可以。

## 其他硬件
前后摄像头正常(普通版不能用)
键盘盖触控板左右键都是左键，最多支持双指操作，其他功能正常，拔出键盘盖系统自动启用自动旋转(普通版不能自动旋转)
Surface Pen 接近屏幕自动显示触控笔功能，按钮不能用，压感不能用。(普通版无反应)
触摸屏正常
USB 和 SD 接口正常
音量键电源键 Win 键正常(普通版按电源键会直接关机)
扬声器正常
电源管理正常

## 系统与安卓子系统
事实上 FydeOS 还有一个 Linux 子系统，但是由于我偏爱使用它自己(前面提到 FydeOS 底层是 Linux)，并且为了省电，我并没有启用 Linux 子系统。
FydeOS 本身唯一可以用的就是 Chromium 浏览器和浏览器插件、浏览器 app，任何系统上的 Chrome 浏览器都可以实现不再赘述。
安卓子系统正式名称是谷歌开发的 ARC++，也就是说在亲儿子操作系统上跑亲儿子安卓子系统，两个系统融合度极高。子系统和系统浏览器可以互相调用打开链接，两个系统共用一部分文件夹，在子系统中魔法上网实际上会影响整个操作系统的连接设置等等。使用安卓子系统会遇到一个法律问题，未通过 google play 保护认证，我们需要自行当作自定义 ROM 来注册我们的设备才能正常使用 google play 服务。按照官网的教程我们需要通过 root 安卓子系统通过 adb 得到设备 ID，对于这种特殊的安卓来说 root 和 adb 都是很麻烦的事，另一个解决这个问题的办法就是使用系统底层的 Linux shell，我们拥有这个 shell 的 root 权限，这代表了我们可以绕过安卓子系统的权限管理直接访问安卓子系统的系统文件。按照官网说明找到数据库文件复制出来，由于本身的 shell 只有很少的命令可以使用，所以我们把数据库文件放在下载文件夹并授予所有用户完整访问权，再通过安卓子系统安装 termux 之类的终端读取数据库数据得到了 ID，注册之后等待一段时间 google play 就可以正常登录了。

## 剩下一些话
我个人是非常喜欢 Fyde 的，因为它同时拥有了 pc 操作系统底层也有了移动操作系统 UI，对于 surface 这种混合设备来说如果完全适配确实比 windows 要更好用，但目前它仍然不适合普通用户使用
最后感谢 FydeOS 开发人员的适配工作